files:
  "/opt/elasticbeanstalk/hooks/appdeploy/pre/02_configure_deployment.sh":
    mode: "000755"
    owner: root
    group: root
    content: |
      #!/bin/bash
      set -x
      
      # Print environment information
      echo "Python version:"
      python --version
      
      echo "Pip version:"
      pip --version
      
      echo "Current directory:"
      pwd
      
      echo "Directory contents:"
      ls -la
      
      # Ensure we're in the correct directory
      cd /var/app/current
      
      # Print application files
      echo "Application files:"
      ls -la
      
      # Check if virtual environment exists
      if [ -d "/var/app/venv" ]; then
        echo "Virtual environment exists"
        ls -la /var/app/venv
      else
        echo "Virtual environment does not exist"
      fi
      
      # Check if requirements.txt exists
      if [ -f "requirements.txt" ]; then
        echo "requirements.txt exists"
        cat requirements.txt
      else
        echo "requirements.txt does not exist"
      fi
      
      # Check if application.py exists
      if [ -f "application.py" ]; then
        echo "application.py exists"
        cat application.py
      else
        echo "application.py does not exist"
      fi 